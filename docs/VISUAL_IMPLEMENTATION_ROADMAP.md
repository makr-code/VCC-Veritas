# VISUAL IMPLEMENTATION ROADMAP

**Projekt:** VERITAS v5.0 Structured Response System  
**Status:** ğŸŸ¢ Ready to Start  
**Erstellt:** 12. Oktober 2025

---

## ğŸ—ºï¸ High-Level Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         USER QUERY                              â”‚
â”‚                 "Wie ist das Wetter in Berlin?"                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    PHASE 1: FOUNDATION                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ NLPService â”‚â”€â”€â”€â–¶â”‚ProcessBuildâ”‚â”€â”€â”€â–¶â”‚ProcessExec â”‚            â”‚
â”‚  â”‚  (NEW)     â”‚    â”‚    (NEW)   â”‚    â”‚   (NEW)    â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚       â”‚                                    â”‚                     â”‚
â”‚       â”‚ Entities:                          â”‚ Uses:              â”‚
â”‚       â”‚ - Location: "Berlin"               â”‚ âœ… DependencyResolvâ”‚
â”‚       â”‚ - Intent: "weather_query"          â”‚    (EXISTS!)       â”‚
â”‚       â”‚ - Type: "fact_retrieval"           â”‚                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              PHASE 2: HYPOTHESIS GENERATION                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         HypothesisService (NEW)                          â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                        â”‚   â”‚
â”‚  â”‚  â”‚ LLM Call 1   â”‚ "Based on RAG context + query..."     â”‚   â”‚
â”‚  â”‚  â”‚ (~500 tokens)â”‚                                        â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                                        â”‚   â”‚
â”‚  â”‚         â”‚                                                 â”‚   â”‚
â”‚  â”‚         â–¼                                                 â”‚   â”‚
â”‚  â”‚  {                                                        â”‚   â”‚
â”‚  â”‚    "question_type": "fact_retrieval",                    â”‚   â”‚
â”‚  â”‚    "hypothesis": "User wants current weather in Berlin", â”‚   â”‚
â”‚  â”‚    "required_data": ["temperature", "conditions"],       â”‚   â”‚
â”‚  â”‚    "confidence": 0.92                                    â”‚   â”‚
â”‚  â”‚  }                                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         Uses: âœ… veritas_ollama_client.py (EXISTS!)             â”‚
â”‚         Uses: âœ… rag_context_service.py (EXISTS!)               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            PHASE 2: ADAPTIVE TEMPLATE CONSTRUCTION               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚     TemplateService (NEW)                                â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  if question_type == "fact_retrieval":                   â”‚   â”‚
â”‚  â”‚      template = FactRetrievalTemplate()                  â”‚   â”‚
â”‚  â”‚  elif question_type == "comparison":                     â”‚   â”‚
â”‚  â”‚      template = ComparisonTemplate()                     â”‚   â”‚
â”‚  â”‚  elif question_type == "timeline":                       â”‚   â”‚
â”‚  â”‚      template = TimelineTemplate()                       â”‚   â”‚
â”‚  â”‚  # ... 5 templates total                                 â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  Template Output:                                         â”‚   â”‚
â”‚  â”‚  {                                                        â”‚   â”‚
â”‚  â”‚    "sections": ["summary", "details", "source"],         â”‚   â”‚
â”‚  â”‚    "widgets": ["text", "table"],                         â”‚   â”‚
â”‚  â”‚    "fields": ["temperature", "conditions", "forecast"]   â”‚   â”‚
â”‚  â”‚  }                                                        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚         Extends: âš ï¸ veritas_agent_template.py (EXISTS!)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              PHASE 3: NDJSON STREAMING RESPONSE                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  StreamingService (EXTEND EXISTING!)                     â”‚   â”‚
â”‚  â”‚  âœ… backend/services/veritas_streaming_service.py        â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  New Message Types (NDJSON):                             â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚   â”‚
â”‚  â”‚  â”‚ {"type": "text_chunk", "content": "Das ..."}   â”‚     â”‚   â”‚
â”‚  â”‚  â”‚ {"type": "metadata", "stage": "llm", "prog": 50}â”‚     â”‚   â”‚
â”‚  â”‚  â”‚ {"type": "widget", "widget_type": "table", ...} â”‚     â”‚   â”‚
â”‚  â”‚  â”‚ {"type": "form", "reason": "missing_location"}  â”‚     â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  Old Message Types (KEEP!):                              â”‚   â”‚
â”‚  â”‚  - STREAM_START, STREAM_PROGRESS, STREAM_COMPLETE        â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚             PHASE 4: QUALITY MONITORING (OPTIONAL)               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚    QualityMonitor (NEW)                                  â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  Check Completeness:                                     â”‚   â”‚
â”‚  â”‚  - Required field "temperature": âœ… Present              â”‚   â”‚
â”‚  â”‚  - Required field "conditions": âœ… Present               â”‚   â”‚
â”‚  â”‚  - Optional field "forecast": âŒ Missing                 â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  If gaps found:                                          â”‚   â”‚
â”‚  â”‚    â†’ Generate Interactive Form                           â”‚   â”‚
â”‚  â”‚    â†’ Stream {"type": "form", ...}                        â”‚   â”‚
â”‚  â”‚    â†’ Wait for user input                                 â”‚   â”‚
â”‚  â”‚    â†’ Re-execute with new parameters                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  PHASE 5: API ENDPOINTS                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  FastAPI Endpoints (NEW)                                 â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  POST /api/v1/query/structured                           â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚   â”‚
â”‚  â”‚  â”‚ Request:                                      â”‚       â”‚   â”‚
â”‚  â”‚  â”‚ {                                             â”‚       â”‚   â”‚
â”‚  â”‚  â”‚   "query": "Wie ist das Wetter in Berlin?", â”‚       â”‚   â”‚
â”‚  â”‚  â”‚   "session_id": "abc123"                     â”‚       â”‚   â”‚
â”‚  â”‚  â”‚ }                                             â”‚       â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  WS /ws/query/structured                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚   â”‚
â”‚  â”‚  â”‚ Bidirectional WebSocket                       â”‚       â”‚   â”‚
â”‚  â”‚  â”‚ - Send: Query                                 â”‚       â”‚   â”‚
â”‚  â”‚  â”‚ - Receive: NDJSON stream                      â”‚       â”‚   â”‚
â”‚  â”‚  â”‚ - Send: Form submission                       â”‚       â”‚   â”‚
â”‚  â”‚  â”‚ - Send: Cancel request                        â”‚       â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                    â”‚
                                    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                 PHASE 6: FRONTEND INTEGRATION                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  StreamingClient (NEW)                                   â”‚   â”‚
â”‚  â”‚  frontend/streaming_client.py                            â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚  1. Connect to WebSocket                                 â”‚   â”‚
â”‚  â”‚  2. Parse NDJSON messages                                â”‚   â”‚
â”‚  â”‚  3. Dispatch to renderers:                               â”‚   â”‚
â”‚  â”‚     - text_chunk â†’ âœ… Markdown (EXISTS!)                 â”‚   â”‚
â”‚  â”‚     - widget â†’ TableWidget (NEW)                         â”‚   â”‚
â”‚  â”‚     - form â†’ FormWidget (NEW)                            â”‚   â”‚
â”‚  â”‚     - metadata â†’ Progress Bar (EXISTS!)                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                  â”‚
â”‚  Tkinter Widgets (NEW):                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚ TableWidget â”‚  â”‚ ChartWidget â”‚  â”‚ FormWidget  â”‚            â”‚
â”‚  â”‚ (Treeview)  â”‚  â”‚ (matplotlib)â”‚  â”‚ (Entry/Btn) â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FINAL RENDERED RESPONSE                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ğŸŒ¤ï¸ Wetter in Berlin                                     â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚ **Aktuell:** 18Â°C, Leicht bewÃ¶lkt                        â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                   â”‚   â”‚
â”‚  â”‚ â”‚ Uhrzeit   â”‚ Temp      â”‚ Regen     â”‚  â† TableWidget    â”‚   â”‚
â”‚  â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                   â”‚   â”‚
â”‚  â”‚ â”‚ 15:00     â”‚ 18Â°C      â”‚ 0%        â”‚                   â”‚   â”‚
â”‚  â”‚ â”‚ 18:00     â”‚ 16Â°C      â”‚ 10%       â”‚                   â”‚   â”‚
â”‚  â”‚ â”‚ 21:00     â”‚ 14Â°C      â”‚ 30%       â”‚                   â”‚   â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â”‚   â”‚
â”‚  â”‚                                                           â”‚   â”‚
â”‚  â”‚ [Quelle: OpenWeatherMap]  â† ButtonWidget                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Component Dependency Graph

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      EXISTING COMPONENTS                         â”‚
â”‚                         (REUSE! âœ…)                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  DependencyResolver           veritas_streaming_service.py      â”‚
â”‚  (395 LOC)                    (639 LOC)                         â”‚
â”‚        â”‚                              â”‚                          â”‚
â”‚        â”‚ Used by                      â”‚ Extended by              â”‚
â”‚        â–¼                              â–¼                          â”‚
â”‚  ProcessExecutor              StreamingProtocol                  â”‚
â”‚  (NEW - 200 LOC)              (NEW - 150 LOC)                   â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                  â”‚
â”‚  veritas_ollama_client.py     rag_context_service.py           â”‚
â”‚  (1,185 LOC)                  (~500 LOC)                        â”‚
â”‚        â”‚                              â”‚                          â”‚
â”‚        â”‚ Used by                      â”‚ Used by                  â”‚
â”‚        â–¼                              â–¼                          â”‚
â”‚  HypothesisService            ProcessBuilder                     â”‚
â”‚  (NEW - 300 LOC)              (NEW - 150 LOC)                   â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                  â”‚
â”‚  veritas_agent_template.py    veritas_ui_markdown.py           â”‚
â”‚  (573 LOC)                    (1,000 LOC)                       â”‚
â”‚        â”‚                              â”‚                          â”‚
â”‚        â”‚ Extended by                  â”‚ Reused by                â”‚
â”‚        â–¼                              â–¼                          â”‚
â”‚  TemplateService              StreamingClient                    â”‚
â”‚  (NEW - 400 LOC)              (NEW - 200 LOC)                   â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Implementation Priority Matrix

```
                    CRITICAL                 HIGH                 MEDIUM
                    (Do First)               (Do Next)            (Do Later)
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
Phase 1       â”‚ ProcessExecutor   â”‚   â”‚                  â”‚  â”‚              â”‚
Foundation    â”‚ ProcessBuilder    â”‚   â”‚                  â”‚  â”‚              â”‚
(2-3 days)    â”‚ NLPService        â”‚   â”‚                  â”‚  â”‚              â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚
                       â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
Phase 2       â”‚ HypothesisService â”‚   â”‚ TemplateService  â”‚  â”‚              â”‚
Hypothesis    â”‚ Hypothesis Models â”‚   â”‚ 5 Templates      â”‚  â”‚              â”‚
(4-5 days)    â”‚ Hypothesis Prompt â”‚   â”‚ Template Models  â”‚  â”‚              â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚                       â”‚
                       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                   â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
Phase 3       â”‚                   â”‚   â”‚ NDJSON Protocol  â”‚  â”‚              â”‚
Streaming     â”‚                   â”‚   â”‚ Streaming Extend â”‚  â”‚              â”‚
(2-3 days)    â”‚                   â”‚   â”‚ Widget Schemas   â”‚  â”‚              â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                                               â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
Phase 4       â”‚                   â”‚   â”‚                  â”‚  â”‚QualityMonitorâ”‚
Quality       â”‚                   â”‚   â”‚                  â”‚  â”‚Quality Modelsâ”‚
(2-3 days)    â”‚                   â”‚   â”‚                  â”‚  â”‚Form Generatorâ”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                    â”‚
                                                                    â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
Phase 5       â”‚                   â”‚   â”‚ API Endpoints    â”‚  â”‚              â”‚
API           â”‚                   â”‚   â”‚ WebSocket        â”‚  â”‚              â”‚
(2-3 days)    â”‚                   â”‚   â”‚ Request Models   â”‚  â”‚              â”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                               â”‚
                                               â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
Phase 6       â”‚                   â”‚   â”‚                  â”‚  â”‚StreamingClientâ”‚
Frontend      â”‚                   â”‚   â”‚                  â”‚  â”‚Tkinter Widgetsâ”‚
(3-4 days)    â”‚                   â”‚   â”‚                  â”‚  â”‚Chat Integrationâ”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                                                    â”‚
                                                                    â–¼
              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
Phase 7       â”‚                   â”‚   â”‚                  â”‚  â”‚ Unit Tests   â”‚
Testing       â”‚                   â”‚   â”‚                  â”‚  â”‚ Integration  â”‚
(3-4 days)    â”‚                   â”‚   â”‚                  â”‚  â”‚ Documentationâ”‚
              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Legend:**
- ğŸ”´ **CRITICAL:** Must be done first (blocks others)
- ğŸŸ¡ **HIGH:** Important, do after critical
- ğŸŸ¢ **MEDIUM:** Nice to have, do if time allows

---

## ğŸ”„ Data Flow Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   USER   â”‚
â”‚  QUERY   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 1: NLP Extraction                                        â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ Input:  "Wie ist das Wetter in Berlin?"               â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ Output: {                                              â”‚  â”‚
â”‚ â”‚   entities: [                                          â”‚  â”‚
â”‚ â”‚     {text: "Berlin", type: "LOCATION"}                â”‚  â”‚
â”‚ â”‚   ],                                                   â”‚  â”‚
â”‚ â”‚   intent: "weather_query",                            â”‚  â”‚
â”‚ â”‚   question_type: "fact_retrieval"                     â”‚  â”‚
â”‚ â”‚ }                                                       â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 2: Process Tree Construction                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ {                                                       â”‚  â”‚
â”‚ â”‚   root: {type: "user_query", content: "..."},         â”‚  â”‚
â”‚ â”‚   steps: [                                             â”‚  â”‚
â”‚ â”‚     {step_id: "nlp", depends_on: []},                 â”‚  â”‚
â”‚ â”‚     {step_id: "rag_semantic", depends_on: ["nlp"],    â”‚  â”‚
â”‚ â”‚      parallel_group: "rag"},                          â”‚  â”‚
â”‚ â”‚     {step_id: "rag_graph", depends_on: ["nlp"],       â”‚  â”‚
â”‚ â”‚      parallel_group: "rag"},                          â”‚  â”‚
â”‚ â”‚     {step_id: "hypothesis", depends_on: ["rag_*"]},   â”‚  â”‚
â”‚ â”‚     {step_id: "template", depends_on: ["hypothesis"]},â”‚  â”‚
â”‚ â”‚     {step_id: "llm_answer", depends_on: ["template"]}â”‚  â”‚
â”‚ â”‚   ]                                                    â”‚  â”‚
â”‚ â”‚ }                                                       â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 3: Dependency Resolution (âœ… EXISTING!)                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ DependencyResolver.get_execution_plan():               â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ [                                                       â”‚  â”‚
â”‚ â”‚   ["nlp"],                        # Wave 1             â”‚  â”‚
â”‚ â”‚   ["rag_semantic", "rag_graph"],  # Wave 2 (Parallel!) â”‚  â”‚
â”‚ â”‚   ["hypothesis"],                 # Wave 3             â”‚  â”‚
â”‚ â”‚   ["template"],                   # Wave 4             â”‚  â”‚
â”‚ â”‚   ["llm_answer"]                  # Wave 5             â”‚  â”‚
â”‚ â”‚ ]                                                       â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 4: RAG Context Retrieval (âœ… EXISTING!)                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ rag_semantic:                                          â”‚  â”‚
â”‚ â”‚   Query: "Wetter Berlin"                              â”‚  â”‚
â”‚ â”‚   Results: [                                           â”‚  â”‚
â”‚ â”‚     {doc: "Berlin Wetter heute 18Â°C", score: 0.92}   â”‚  â”‚
â”‚ â”‚   ]                                                    â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚ rag_graph:                                             â”‚  â”‚
â”‚ â”‚   Query: "Berlin" â†’ Related: ["Deutschland", "Wetter"]â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 5: Hypothesis Generation (NEW!)                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ LLM Call 1:                                            â”‚  â”‚
â”‚ â”‚   Prompt: "Based on RAG context + query, hypothesize" â”‚  â”‚
â”‚ â”‚   Input: {query: "...", rag_results: [...]}           â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚   Output: {                                            â”‚  â”‚
â”‚ â”‚     question_type: "fact_retrieval",                   â”‚  â”‚
â”‚ â”‚     hypothesis: "User wants current weather in Berlin",â”‚  â”‚
â”‚ â”‚     required_data: ["temp", "conditions"],            â”‚  â”‚
â”‚ â”‚     confidence: 0.92                                   â”‚  â”‚
â”‚ â”‚   }                                                     â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 6: Adaptive Template Construction (NEW!)                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ TemplateService.construct_template(hypothesis):        â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚   if question_type == "fact_retrieval":                â”‚  â”‚
â”‚ â”‚       template = FactRetrievalTemplate()               â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚   template.sections = ["summary", "details", "source"] â”‚  â”‚
â”‚ â”‚   template.widgets = ["text", "table"]                 â”‚  â”‚
â”‚ â”‚   template.fields = ["temp", "conditions", "forecast"] â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 7: LLM Answer Generation (âœ… EXISTING!)                  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ LLM Call 2:                                            â”‚  â”‚
â”‚ â”‚   Prompt: "Fill template with RAG data"               â”‚  â”‚
â”‚ â”‚   Input: {template: {...}, rag_data: {...}}           â”‚  â”‚
â”‚ â”‚                                                         â”‚  â”‚
â”‚ â”‚   Output: "Das Wetter in Berlin ist aktuell 18Â°C..." â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 8: NDJSON Streaming (NEW!)                              â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ {"type": "metadata", "stage": "nlp", "progress": 10}  â”‚  â”‚
â”‚ â”‚ {"type": "metadata", "stage": "rag", "progress": 30}  â”‚  â”‚
â”‚ â”‚ {"type": "metadata", "stage": "hypothesis", "prog": 50}â”‚  â”‚
â”‚ â”‚ {"type": "text_chunk", "content": "Das Wetter ..."}   â”‚  â”‚
â”‚ â”‚ {"type": "widget", "widget_type": "table", ...}       â”‚  â”‚
â”‚ â”‚ {"type": "metadata", "stage": "complete", "prog": 100}â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Step 9: Frontend Rendering (NEW!)                            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ StreamingClient.on_message(msg):                       â”‚  â”‚
â”‚ â”‚   if msg.type == "text_chunk":                         â”‚  â”‚
â”‚ â”‚       markdown_renderer.append(msg.content) # âœ… EXISTSâ”‚  â”‚
â”‚ â”‚   elif msg.type == "widget":                           â”‚  â”‚
â”‚ â”‚       widget_factory.create(msg.widget_type) # NEW    â”‚  â”‚
â”‚ â”‚   elif msg.type == "metadata":                         â”‚  â”‚
â”‚ â”‚       progress_bar.update(msg.progress) # âœ… EXISTS   â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â”‚
     â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RENDERED â”‚
â”‚ RESPONSE â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ File Structure (Complete)

```
c:\VCC\veritas\
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ services/               # Business Logic
â”‚   â”‚   â”œâ”€â”€ process_executor.py        # âœ… NEW (200 LOC) - Phase 1
â”‚   â”‚   â”œâ”€â”€ process_builder.py         # âœ… NEW (150 LOC) - Phase 1
â”‚   â”‚   â”œâ”€â”€ nlp_service.py             # âœ… NEW (300 LOC) - Phase 1
â”‚   â”‚   â”œâ”€â”€ hypothesis_service.py      # âœ… NEW (300 LOC) - Phase 2
â”‚   â”‚   â”œâ”€â”€ template_service.py        # âœ… NEW (400 LOC) - Phase 2
â”‚   â”‚   â”œâ”€â”€ quality_monitor.py         # âœ… NEW (250 LOC) - Phase 4
â”‚   â”‚   â”œâ”€â”€ form_generator.py          # âœ… NEW (150 LOC) - Phase 4
â”‚   â”‚   â””â”€â”€ veritas_streaming_service.py # âš ï¸ EXTEND (+150 LOC) - Phase 3
â”‚   â”‚
â”‚   â”œâ”€â”€ models/                 # Data Classes
â”‚   â”‚   â”œâ”€â”€ process_step.py            # âœ… NEW (100 LOC) - Phase 1
â”‚   â”‚   â”œâ”€â”€ process_tree.py            # âœ… NEW (100 LOC) - Phase 1
â”‚   â”‚   â”œâ”€â”€ hypothesis.py              # âœ… NEW (100 LOC) - Phase 2
â”‚   â”‚   â”œâ”€â”€ response_template.py       # âœ… NEW (150 LOC) - Phase 2
â”‚   â”‚   â”œâ”€â”€ streaming_protocol.py      # âœ… NEW (150 LOC) - Phase 3
â”‚   â”‚   â”œâ”€â”€ widget_schema.py           # âœ… NEW (100 LOC) - Phase 3
â”‚   â”‚   â”œâ”€â”€ form_schema.py             # âœ… NEW (100 LOC) - Phase 3
â”‚   â”‚   â””â”€â”€ quality_report.py          # âœ… NEW (100 LOC) - Phase 4
â”‚   â”‚
â”‚   â”œâ”€â”€ templates/              # Template Implementations
â”‚   â”‚   â”œâ”€â”€ fact_retrieval_template.py # âœ… NEW (80 LOC) - Phase 2
â”‚   â”‚   â”œâ”€â”€ comparison_template.py     # âœ… NEW (80 LOC) - Phase 2
â”‚   â”‚   â”œâ”€â”€ timeline_template.py       # âœ… NEW (80 LOC) - Phase 2
â”‚   â”‚   â”œâ”€â”€ calculation_template.py    # âœ… NEW (80 LOC) - Phase 2
â”‚   â”‚   â””â”€â”€ visual_template.py         # âœ… NEW (80 LOC) - Phase 2
â”‚   â”‚
â”‚   â”œâ”€â”€ prompts/                # LLM Prompts
â”‚   â”‚   â””â”€â”€ hypothesis_prompt.txt      # âœ… NEW (200 lines) - Phase 2
â”‚   â”‚
â”‚   â”œâ”€â”€ api/                    # API Endpoints
â”‚   â”‚   â”œâ”€â”€ structured_query_endpoint.py # âœ… NEW (200 LOC) - Phase 5
â”‚   â”‚   â”œâ”€â”€ websocket_endpoint.py        # âœ… NEW (150 LOC) - Phase 5
â”‚   â”‚   â””â”€â”€ models.py                    # âœ… NEW (100 LOC) - Phase 5
â”‚   â”‚
â”‚   â””â”€â”€ agents/
â”‚       â””â”€â”€ framework/
â”‚           â””â”€â”€ dependency_resolver.py   # âœ… EXISTS (395 LOC) - REUSE!
â”‚
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ streaming_client.py             # âœ… NEW (200 LOC) - Phase 6
â”‚   â”œâ”€â”€ enhanced_markdown_renderer.py   # âœ… NEW (150 LOC) - Phase 6
â”‚   â”œâ”€â”€ chat_window_enhanced.py         # âœ… NEW (100 LOC) - Phase 6
â”‚   â””â”€â”€ widgets/                         # Widget Renderers
â”‚       â”œâ”€â”€ table_widget.py              # âœ… NEW (100 LOC) - Phase 6
â”‚       â”œâ”€â”€ chart_widget.py              # âœ… NEW (150 LOC) - Phase 6
â”‚       â”œâ”€â”€ form_widget.py               # âœ… NEW (150 LOC) - Phase 6
â”‚       â””â”€â”€ button_widget.py             # âœ… NEW (50 LOC) - Phase 6
â”‚
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ test_process_executor.py        # âœ… NEW (100 LOC) - Phase 1
â”‚   â”œâ”€â”€ test_process_builder.py         # âœ… NEW (100 LOC) - Phase 1
â”‚   â”œâ”€â”€ test_nlp_service.py             # âœ… NEW (100 LOC) - Phase 1
â”‚   â”œâ”€â”€ test_hypothesis_service.py      # âœ… NEW (150 LOC) - Phase 2
â”‚   â”œâ”€â”€ test_template_service.py        # âœ… NEW (150 LOC) - Phase 2
â”‚   â”œâ”€â”€ test_quality_monitor.py         # âœ… NEW (100 LOC) - Phase 4
â”‚   â”œâ”€â”€ test_ndjson_streaming.py        # âœ… NEW (100 LOC) - Phase 3
â”‚   â”œâ”€â”€ test_api_endpoints.py           # âœ… NEW (150 LOC) - Phase 5
â”‚   â”œâ”€â”€ test_integration_e2e.py         # âœ… NEW (200 LOC) - Phase 7
â”‚   â”œâ”€â”€ test_load_performance.py        # âœ… NEW (150 LOC) - Phase 7
â”‚   â””â”€â”€ frontend/
â”‚       â””â”€â”€ test_streaming_client.py    # âœ… NEW (100 LOC) - Phase 6
â”‚
â””â”€â”€ docs/
    â”œâ”€â”€ IMPLEMENTATION_GAP_ANALYSIS_TODO.md # âœ… Created (8,000 lines)
    â”œâ”€â”€ TODO_EXECUTIVE_SUMMARY.md           # âœ… Created (600 lines)
    â”œâ”€â”€ VISUAL_IMPLEMENTATION_ROADMAP.md    # âœ… This file
    â”œâ”€â”€ API_STRUCTURED_QUERY.md             # âœ… NEW (300 lines) - Phase 5
    â”œâ”€â”€ USER_GUIDE_STRUCTURED_RESPONSES.md  # âœ… NEW (500 lines) - Phase 7
    â””â”€â”€ DEVELOPER_GUIDE_STRUCTURED_RESPONSES.md # âœ… NEW (800 lines) - Phase 7
```

**Legend:**
- âœ… **NEW** - To be created
- âš ï¸ **EXTEND** - Extend existing file
- âœ… **EXISTS** - Already exists, reuse as-is

**Total New Code:** ~7,450 LOC  
**Total Existing Code (Reused):** ~4,300 LOC

---

## â±ï¸ Weekly Timeline (Gantt-Style)

```
Week 1: Foundation + Hypothesis
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mon    â”‚ Tue    â”‚ Wed    â”‚ Thu    â”‚ Fri    â”‚ Sat    â”‚ Sun    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Phase 1â”‚ Phase 1â”‚ Phase 1â”‚ Phase 2â”‚ Phase 2â”‚ Phase 2â”‚ Phase 2â”‚
â”‚ NLP    â”‚ Processâ”‚ Processâ”‚ Hypotheâ”‚ Hypotheâ”‚ Templatâ”‚ Templatâ”‚
â”‚ Serviceâ”‚ Builderâ”‚ Executoâ”‚ sis    â”‚ sis    â”‚ e (1-3)â”‚ e (4-5)â”‚
â”‚        â”‚        â”‚  r     â”‚ Serviceâ”‚ Prompt â”‚        â”‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Week 2: Streaming + Quality + API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mon    â”‚ Tue    â”‚ Wed    â”‚ Thu    â”‚ Fri    â”‚ Sat    â”‚ Sun    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Phase 3â”‚ Phase 3â”‚ Phase 4â”‚ Phase 4â”‚ Phase 5â”‚ Phase 5â”‚ Phase 5â”‚
â”‚ NDJSON â”‚ Widget â”‚ Qualityâ”‚ Form   â”‚ API    â”‚ WebSockâ”‚ Requestâ”‚
â”‚ Protocoâ”‚ Schema â”‚ Monitorâ”‚ Generatâ”‚ Endpoinâ”‚ et     â”‚ Models â”‚
â”‚ l      â”‚        â”‚        â”‚ or     â”‚ t      â”‚        â”‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Week 3: Frontend Integration
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mon    â”‚ Tue    â”‚ Wed    â”‚ Thu    â”‚ Fri    â”‚ Sat    â”‚ Sun    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Phase 6â”‚ Phase 6â”‚ Phase 6â”‚ Phase 6â”‚ Phase 6â”‚ Phase 6â”‚ Phase 6â”‚
â”‚ Streamiâ”‚ Table  â”‚ Chart  â”‚ Form   â”‚ Button â”‚ Chat   â”‚ Buffer â”‚
â”‚ ng     â”‚ Widget â”‚ Widget â”‚ Widget â”‚ Widget â”‚ Integraâ”‚        â”‚
â”‚ Client â”‚        â”‚        â”‚        â”‚        â”‚ tion   â”‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Week 4: Testing + Documentation
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mon    â”‚ Tue    â”‚ Wed    â”‚ Thu    â”‚ Fri    â”‚ Sat    â”‚ Sun    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Phase 7â”‚ Phase 7â”‚ Phase 7â”‚ Phase 7â”‚ Phase 7â”‚ Phase 7â”‚ DEPLOY â”‚
â”‚ Unit   â”‚ Integraâ”‚ Load   â”‚ API    â”‚ User   â”‚ Developâ”‚ Produktâ”‚
â”‚ Tests  â”‚ tion   â”‚ Tests  â”‚ Docs   â”‚ Guide  â”‚ er     â”‚ ion    â”‚
â”‚        â”‚ Tests  â”‚        â”‚        â”‚        â”‚ Guide  â”‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Milestones:**
- ğŸ¯ **End of Week 1:** Hypothesis generation working
- ğŸ¯ **End of Week 2:** NDJSON streaming + API ready
- ğŸ¯ **End of Week 3:** Full frontend integration
- ğŸ¯ **End of Week 4:** Production deployment

---

## ğŸš€ MVP Fast Track (2-3 Wochen)

**Nur kritische Komponenten:**

```
Week 1: MVP Core
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mon    â”‚ Tue    â”‚ Wed    â”‚ Thu    â”‚ Fri    â”‚ Sat    â”‚ Sun    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ NLP    â”‚ Processâ”‚ Processâ”‚ Hypotheâ”‚ Hypotheâ”‚ ONLY   â”‚ Basic  â”‚
â”‚ Serviceâ”‚ Builderâ”‚ Executoâ”‚ sis    â”‚ sis    â”‚ Fact   â”‚ NDJSON â”‚
â”‚        â”‚        â”‚  r     â”‚ Serviceâ”‚ Prompt â”‚ Templatâ”‚ (Text) â”‚
â”‚        â”‚        â”‚        â”‚        â”‚        â”‚ e      â”‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Week 2: MVP Integration
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Mon    â”‚ Tue    â”‚ Wed    â”‚ Thu    â”‚ Fri    â”‚ Sat    â”‚ Sun    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ API    â”‚ API    â”‚ Basic  â”‚ Basic  â”‚ Unit   â”‚ E2E    â”‚ DEMO   â”‚
â”‚ Endpoinâ”‚ WebSockâ”‚ Streamiâ”‚ Chat   â”‚ Tests  â”‚ Test   â”‚        â”‚
â”‚ t      â”‚ et     â”‚ ng     â”‚ Integraâ”‚        â”‚        â”‚        â”‚
â”‚        â”‚        â”‚ Client â”‚ tion   â”‚        â”‚        â”‚        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**MVP Features:**
- âœ… Process Execution (with DependencyResolver)
- âœ… Hypothesis Generation
- âœ… 1 Template (Fact Retrieval only)
- âœ… Basic NDJSON Streaming (Text + Metadata)
- âŒ No Widgets
- âŒ No Forms
- âŒ No Quality Monitoring

**MVP Deliverables:**
- Working end-to-end flow
- Hypothesis-driven template selection
- Streaming text responses
- Basic API endpoint

**MVP â†’ Full v5.0:** Add remaining templates, widgets, forms in Weeks 3-4

---

## ğŸ¯ Success Metrics

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SUCCESS CRITERIA                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Phase 1: Foundation                                            â”‚
â”‚  âœ… ProcessExecutor wraps DependencyResolver                     â”‚
â”‚  âœ… ProcessBuilder converts query â†’ ProcessTree                  â”‚
â”‚  âœ… NLPService extracts entities (80% accuracy)                  â”‚
â”‚  âœ… Unit tests >80% coverage                                     â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                  â”‚
â”‚  Phase 2: Hypothesis + Templates                                â”‚
â”‚  âœ… HypothesisService generates valid JSON (>90% success rate)   â”‚
â”‚  âœ… Confidence scoring >0.8 for clear questions                  â”‚
â”‚  âœ… 5 templates generate correct structure                       â”‚
â”‚  âœ… Template selection matches question type (>85% accuracy)     â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                  â”‚
â”‚  Phase 3: Streaming                                             â”‚
â”‚  âœ… NDJSON messages parse correctly (100% valid JSON)            â”‚
â”‚  âœ… Streaming latency <500ms per message                         â”‚
â”‚  âœ… Widget serialization works for all types                     â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                  â”‚
â”‚  Phase 4: Quality Monitoring                                    â”‚
â”‚  âœ… Completeness checker detects missing fields (>90%)           â”‚
â”‚  âœ… Forms generated for missing information                      â”‚
â”‚  âœ… User submissions processed correctly                         â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                  â”‚
â”‚  Phase 5: API Integration                                       â”‚
â”‚  âœ… API endpoint responds <2s for simple queries                 â”‚
â”‚  âœ… WebSocket handles 100+ concurrent connections                â”‚
â”‚  âœ… API documentation complete                                   â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                  â”‚
â”‚  Phase 6: Frontend                                              â”‚
â”‚  âœ… Widgets render correctly (table, chart, form)                â”‚
â”‚  âœ… Streaming client handles 1000+ messages/min                  â”‚
â”‚  âœ… UI responsive (<100ms lag)                                   â”‚
â”‚                                                                  â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚
â”‚                                                                  â”‚
â”‚  Phase 7: Testing                                               â”‚
â”‚  âœ… Unit tests: >80% coverage                                    â”‚
â”‚  âœ… Integration tests: All passing                               â”‚
â”‚  âœ… Load tests: 100 concurrent users, <2s response               â”‚
â”‚  âœ… Documentation: Complete + examples                           â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ Quick Reference

**Full Details:** `docs/IMPLEMENTATION_GAP_ANALYSIS_TODO.md` (8,000+ lines)  
**Executive Summary:** `docs/TODO_EXECUTIVE_SUMMARY.md` (600 lines)  
**Visual Roadmap:** This document

**Next Steps:**
1. Read Gap Analysis (30 min)
2. Setup environment (30 min)
3. Start Phase 1 (Day 1-3)

**Questions?** Check existing code:
- `backend/agents/framework/dependency_resolver.py` - Dependency resolution
- `backend/services/veritas_streaming_service.py` - Streaming
- `backend/agents/veritas_agent_template.py` - Template pattern

---

**READY TO BUILD! ğŸš€**

**Status:** ğŸŸ¢ All design documents complete, ready to implement  
**Timeline:** 18-25 Tage (Full) oder 10-12 Tage (MVP)  
**Start:** Phase 1 (NLPService, ProcessBuilder, ProcessExecutor)
